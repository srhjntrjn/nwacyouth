(self.webpackChunkywac_youth=self.webpackChunkywac_youth||[]).push([[853],{81111:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}});var a=r(80018),o=r(92137),n=r(87757),s=r.n(n),i=r(67294),u=r(92635),l=r(58552),c=r(96633),m=r.n(c),p=r(80962),d=r(29499),h=r(925),y=r(25658),g=r(59565),f=r(50009),b=r(10105),v=f.ZP.div.withConfig({displayName:"style__Content",componentId:"sc-1eo6cm8-0"})(["color:",";"],(function(e){return e.theme.palette.primary})),E=f.ZP.div.withConfig({displayName:"style__TopText",componentId:"sc-1eo6cm8-1"})(["padding:100px 0;background:",";color:white;","{padding:80px 0;}"],(function(e){return e.theme.palette.primary}),(0,b.down)("md")),w=f.ZP.div.withConfig({displayName:"style__Message",componentId:"sc-1eo6cm8-2"})(["font-size:",";"],(function(e){return e.theme.font.size.l})),S=function(e){var t=e.location,r=e.pageContext,n=r.seoKeyword,c=r.seoDescription,f=(0,d.useLocation)().pathname.startsWith("/fr/"),b=(0,i.useState)(""),S=b[0],_=b[1],q=((0,i.useRef)(),l.Ry().shape({name:l.Z_().required(f?"Votre nom est un champ obligatoire.":"Your Name is required"),story:l.Z_().required(f?"Ton histoire est un champ obligatoire.":"Your Story is required"),image:l.Ry().nullable(),recaptcha:l.O7().required(f?"Veuillez vérifier que vous n'êtes pas un robot.":"Please verify you are not a robot.")}));return i.createElement(h.Z,{location:t},i.createElement(g.HJ,{pathname:t.pathname,title:f?"Présentez vos histoires":"Submit Your Stories",keyword:n,description:c}),i.createElement(g.jL,{colors:["#397897","#00587F","#80D0DB"]},i.createElement("h1",null,f?"Présentez vos histoires":"Submit Your Stories")),i.createElement(g.bQ,{colors:["#D16428","#E58630","#DA5027","#D29329"]}),i.createElement(E,null,i.createElement("div",{className:"container"},i.createElement("h2",null,f?"Es-tu un jeune autochtone qui poursuit fièrement sa passion? Tu as une histoire que tu aimerais partager? Présente ta propre histoire pour nous faire part de ce que tu fais pour défendre l'égalité des genres! Le leadership prend de nombreuses formes, et il n'y a pas d'histoire trop grande ou trop petite.":"Are you an Indigenous youth proudly pursuing your passion? Have a story that you would like to share? Submit your own story to tell us what you're doing to advocate for gender equality! Remember: Leadership comes in many forms, and there's no story too big or too small."))),i.createElement(v,{className:"container py-5"},i.createElement(u.J9,{initialValues:{name:"",story:"",image:null,recaptcha:""},validationSchema:q,onSubmit:function(){var e=(0,o.Z)(s().mark((function e(t,r){var o,n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.resetForm,console.log("values",t),t.recaptcha="",n=["---"],(n=[].concat((0,a.Z)(n),(0,a.Z)(Object.keys(t).map((function(e){return"string"==typeof t[e]?e+': "'+t[e].split("\n").join("     \r\n\r\n  ")+'"':null!==t[e]?e+': "'+t[e].name+'"':""}))))).push(f?"language: Fr":"language: En"),n.push("---"),e.prev=7,i=(0,p.default)(new Date,"MM-dd-yyyy-HH-mm-ss"),e.next=11,m().post("https://gitlab.com/api/v4/projects/22180390/repository/files/content%2Fstories%2F"+i+"%2Findex.md",{branch:"master",author_email:"support@deplume.ca",author_name:"User_Submission",content:n.join("     \r\n"),commit_message:"Story "+t.name+" is created."},{headers:{"PRIVATE-TOKEN":"CZiBaqQd5NGDyzLEpPxw"}});case 11:if(!t.image){e.next=14;break}return e.next=14,m().post("https://gitlab.com/api/v4/projects/22180390/repository/files/content%2Fstories%2F"+i+"%2F"+t.image.name,{branch:"master",author_email:"support@deplume.ca",author_name:"User_Submission",content:t.image.file.split("base64,").slice(1).join(""),encoding:"base64",commit_message:"Image file "+t.image.name+" is created."},{headers:{"PRIVATE-TOKEN":"CZiBaqQd5NGDyzLEpPxw"}});case 14:fetch("https://generation4equality.ca/submitStory",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:(0,y.X)({"form-name":"story",name:t.name,story:t.story})}).then((function(){_(f?"Merci! Nous avons bien reçu votre soumission.":"Thank you! We've successfully received your submission."),o()})).catch((function(e){console.log("error",e),_(f?"Erreur.":"Error.")})),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(7),console.log("image file error",e.t0),_(f?"Erreur.":"Error.");case 21:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(t,r){return e.apply(this,arguments)}}()},(function(e){e.setValues,e.values;return i.createElement(u.l0,{"data-netlify":!0,name:"story"},i.createElement("h2",null,f?"Présente ton histoire":"Submit Your Story"),i.createElement(g.yt,{label:"Your Name",labelFr:"Nom",name:"name",className:"mt-4 mb-3",required:!0}),i.createElement(g.V5,{name:"image",text:f?"Choisir un fichier":"Select Files",label:f?"Télécharger l'image":"Upload an Image",className:"mb-3"}),i.createElement(g.B1,{label:f?"Ton histoire (Ici, vous pouvez soit écrire un bref paragraphe, soit partager un lien vidéo décrivant ce que vous faites pour apporter un changement!)":"Your Story (Here you can either write a brief paragraph or share a video link describing what you're doing to make a change!)",name:"story",required:!0}),i.createElement(g.eG,{name:"recaptcha"}),S&&i.createElement(w,{className:"mb-3"},S),i.createElement(g.zx,{type:"button",buttonType:"submit",background:"light"},f?"Soumettre":"Submit"))}))),i.createElement(g.h_,null,i.createElement("h2",null,f?"Découvrez d'autres défenseurs et leur rôle dans la lutte pour l'égalité des sexes.":"Check out other advocates and their role in gender equality."),i.createElement("div",{className:"mt-5"},i.createElement(g.zx,{type:"url",to:"/stories"},f?"Voir d'autres histoires de défenseurs":"View Other Advocate Stories"),i.createElement("p",{className:"mt-4 mb-3"},f?"Veuillez noter que les histoires changeront tous les mois mais seront toujours disponibles dans notre dossier Archives.":"Please note that stories will rotate monthly but will still be available in our Archives folder."))))}}}]);
//# sourceMappingURL=component---src-templates-submit-story-tsx-cf207768e4daa937c99a.js.map