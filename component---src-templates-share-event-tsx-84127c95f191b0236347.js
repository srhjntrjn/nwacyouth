(self.webpackChunkywac_youth=self.webpackChunkywac_youth||[]).push([[35],{78486:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return z}});var n=a(80018),r=a(92137),l=a(87757),i=a.n(l),o=a(67294),s=a(92635),m=a(58552),c=a(96633),u=a.n(c),d=a(29499),v=a(80962),b=a(925),p=a(59565),h=a(25658),E=a(50009),y=a(10105),f=E.ZP.div.withConfig({displayName:"style__Content",componentId:"sc-lfa8v9-0"})(["padding:112px 0 136px 0;color:",";h2{font-weight:",";}","{padding:72px 0 100px 0;}"],(function(e){return e.theme.palette.primary}),(function(e){return e.theme.font.weight.m}),(0,y.down)("md")),g=E.ZP.div.withConfig({displayName:"style__Desc",componentId:"sc-lfa8v9-1"})(["color:",";font-size:22px;"],(function(e){return e.theme.palette.primary})),N=E.ZP.span.withConfig({displayName:"style__Asterisk",componentId:"sc-lfa8v9-2"})(["color:#da5027;"]),w=E.ZP.div.withConfig({displayName:"style__Message",componentId:"sc-lfa8v9-3"})(["color:",";font-size:24px;"],(function(e){return e.theme.palette.primary})),D={title:"",eventStartDate:"",eventEndDate:"",eventCategory:[],venueAddress:"",venueCity:"",venueProvince:"",venuePostalCode:"",venuePhone:"",venueWebsite:"",organizerName:"",organizerPhone:"",organizerWebsite:"",organizerEmail:"",eventUrl:"",eventCost:"",eventDescription:""},z=function(e){var t=e.location,a=e.pageContext,l=a.seoKeyword,c=a.seoDescription,E=(0,o.useState)(""),y=E[0],z=E[1],C=(0,d.useLocation)().pathname.startsWith("/fr/"),S=((0,o.useRef)(),m.Ry().shape({title:m.Z_().required(C?"Le titre de l’événement doit être indiqué":"Event Title is required"),eventStartDate:m.Z_().required(C?"La date de début est obligatoire":"Event Start Date is required"),eventEndDate:m.Z_().required(C?"La date de fin est nécessaire":"Event End Date is required"),eventCategory:m.IX().required(C?"La catégorie est obligatoire":"Event Category is required"),eventDescription:m.Z_().required(C?"La description est un champ obligatoire.":" Description is required"),eventCost:m.Rx().integer(C?"Coût doit être un chiffre valide.":"Cost must be a valid number."),venuePostalCode:m.Z_().matches(/^(?!.*[DFIOQU])[A-VXY][0-9][A-Z] ?[0-9][A-Z][0-9]$/,"Should be a valid postal code."),organizerWebsite:m.Z_().matches(/((https?):\/\/)?(www.)?[a-z0-9]+(\.[a-z]{2,}){1,3}(#?\/?[a-zA-Z0-9#]+)*\/?(\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/,"Should be a valid url."),venueWebsite:m.Z_().matches(/((https?):\/\/)?(www.)?[a-z0-9]+(\.[a-z]{2,}){1,3}(#?\/?[a-zA-Z0-9#]+)*\/?(\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/,"Should be a valid url."),organizerEmail:m.Z_().email("Should be valid email."),organizerPhone:m.Z_().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Phone number should be 123-456-7890 format."),venuePhone:m.Z_().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Phone number should be 123-456-7890 format."),recaptcha:m.O7().required(C?"Veuillez vérifier que vous n'êtes pas un robot.":"Please verify you are not a robot.")}));return(0,o.useEffect)((function(){return delete window.recaptchaOptions,delete window.grecaptcha,window.recaptchaOptions={lang:"fr",useRecaptchaNet:!1,removeOnUnmount:!1},function(){}}),[]),o.createElement(b.Z,{location:t},o.createElement(p.HJ,{pathname:t.pathname,title:C?"Partagez un événement":"Share an Event",keyword:l,description:c}),o.createElement(p.jL,{colors:["#397897","#00587F","#80D0DB"]},o.createElement("h1",null,C?"Partagez un événement":"Share an Event"),o.createElement("h2",{className:"mt-4"},C?"Envoyez-nous le lien d’un événement à venir que vous aimeriez que nous ajoutions et nous le publierons ici!":"Submit an upcoming event you’d like us to include and we’ll post it on our events page.")),o.createElement(p.bQ,{colors:["#E58630","#DA5027","#D1932A","#D16428"]}),o.createElement(f,null,o.createElement("div",{className:"container py-4"},o.createElement(s.J9,{initialValues:D,validationSchema:S,onSubmit:function(){var e=(0,r.Z)(i().mark((function e(t,a){var r,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.resetForm,console.log("values",t),t.titleFr=t.title,t.eventDescriptionFr=t.eventDescription,l=["---"],(l=[].concat((0,n.Z)(l),(0,n.Z)(Object.keys(t).map((function(e){return"string"==typeof t[e]?e+': "'+t[e].split("\n").join("     \r\n\r\n  ")+'"':Array.isArray(t[e])?e+": "+t[e].map((function(e){return'     \r\n  - "'+e+'"'})).join(""):"number"==typeof t[e]?e+': "'+t[e]+'"':e+": "+t[e]}))))).push("---"),u().post("https://gitlab.com/api/v4/projects/22180390/repository/files/content%2Fevents%2F"+(0,v.default)(new Date,"MM-dd-yyyy-HH-mm-ss")+"%2Findex.md",{branch:"master",author_email:"support@deplume.ca",author_name:"User_Submission",content:l.join("     \r\n"),commit_message:"Event "+t.title+" is created."},{headers:{"PRIVATE-TOKEN":"CZiBaqQd5NGDyzLEpPxw"}}).then((function(e){fetch("https://generation4equality.ca/shareEvent",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:(0,h.X)(Object.assign({"form-name":"event"},t))}).then((function(){z(C?"Merci! Nous avons bien reçu votre soumission.":"Thank you for submitting successfully!"),r()})).catch((function(e){console.log("error",e),z(C?"Désolé, une erreur s'est produite. Veuillez réessayer ultérieurement.":"Sorry, an unexpected error occurred. Please try again.")}))})).catch((function(e){console.log("error",e),z(C?"Désolé, une erreur s'est produite. Veuillez réessayer ultérieurement.":"Sorry, an unexpected error occurred. Please try again.")}));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){e.setValues,e.values;return o.createElement(s.l0,{"data-netlify":!0,name:"event"},o.createElement("h2",null,C?"Soumettez un événement":"Submit An Event"),o.createElement(g,{className:"my-4"},C?o.createElement(o.Fragment,null,"Les champs marqués d'un ",o.createElement(N,null,"*")," sont obligatoires"):o.createElement(o.Fragment,null,"Fields marked with an ",o.createElement(N,null,"*")," are required")),o.createElement("div",{className:"d-flex flex-wrap row"},o.createElement("div",{className:"col-md-6"},o.createElement("h2",null,C?"Détails de l'événement":"Event Details"),o.createElement(p.yt,{label:"Event Title",labelFr:"Titre de l'événement",name:"title",className:"mt-4 mb-3",required:!0}),o.createElement(p.v2,{label:C?"Date de début":"Start Date",name:"eventStartDate",className:"mb-3",required:!0}),o.createElement(p.v2,{label:C?"Date de fin":"End Date",name:"eventEndDate",className:"mb-3",required:!0}),o.createElement(p.HE,{label:C?"CATÉGORIES D’ÉVÉNEMENTS":"Event Category",name:"eventCategory",required:!0,data:[{label:"Youth",labelFr:"Jeunes",value:"Youth"},{label:"Indigenous",labelFr:"Autochtones",value:"Indigenous"},{label:"2SLGBTQQIA",labelFr:"2SLGBTQQIA",value:"2SLGBTQQIA"}]}),o.createElement(p.yt,{label:"Website",labelFr:"Site Web",name:"eventUrl",className:"mb-3"}),o.createElement(p.yt,{label:"Cost",labelFr:"Coût",type:"number",name:"eventCost",className:"mb-3"}),o.createElement(p.B1,{name:"eventDescription",label:C?"La description":"Description",className:"mb-3",required:!0})),o.createElement("div",{className:"col-md-6"},o.createElement("h2",null,C?"ENDROIT":"Venue"),o.createElement(p.yt,{label:"Address",labelFr:"Adresse",name:"venueAddress",className:"mt-4 mb-3"}),o.createElement(p.yt,{label:"City",labelFr:"Ville",name:"venueCity",className:"mb-3"}),o.createElement(p.yt,{label:"Province",labelFr:"Province",name:"venueProvince",className:"mb-3"}),o.createElement(p.yt,{label:"Postal Code",labelFr:"Code postal",name:"venuePostalCode",className:"mb-3"}),o.createElement(p.yt,{label:"Phone",labelFr:"Téléphone",name:"venuePhone",className:"mb-3"}),o.createElement(p.yt,{label:"Website",labelFr:"Site Web",name:"venueWebsite",className:"mb-3"}),o.createElement("h2",null,C?"Organisateur":"Organizer"),o.createElement(p.yt,{label:"Name",labelFr:"Nom",name:"organizerName",className:"mt-4 mb-3"}),o.createElement(p.yt,{label:"Phone",labelFr:"Téléphone",name:"organizerPhone",className:"mb-3"}),o.createElement(p.yt,{label:"Website",labelFr:"Site Web",name:"organizerWebsite",className:"mb-3"}),o.createElement(p.yt,{label:"Email",labelFr:"Courriel",name:"organizerEmail",className:"mb-3"}))),o.createElement(p.eG,{name:"recaptcha"}),y&&o.createElement(w,{className:"mb-4"},y),o.createElement("div",{className:"mt-4 d-flex justify-content-center"},o.createElement(p.zx,{buttonType:"submit",background:"light"},C?"Soumettre votre événement":"Submit Your Event")))})))))}}}]);
//# sourceMappingURL=component---src-templates-share-event-tsx-84127c95f191b0236347.js.map